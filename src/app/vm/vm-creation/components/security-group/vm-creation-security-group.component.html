<h3 class="mat-dialog-title">
  {{ title[displayMode] | translate }}
</h3>

<div class="mat-dialog-content">
  <mat-button-toggle-group
    name="displayMode"
    [(ngModel)]="displayMode"
  >
    <mat-button-toggle value="0" [value]="VmCreationSecurityGroupMode.Builder">
      {{ 'SECURITY_GROUP_SELECTOR.CREATE' | translate }}
    </mat-button-toggle>
    <mat-button-toggle value="1" [value]="VmCreationSecurityGroupMode.Selector">
      {{ 'SECURITY_GROUP_SELECTOR.SELECT_SHARED' | translate }}
    </mat-button-toggle>
  </mat-button-toggle-group>

  <cs-security-group-builder
    *ngIf="displayMode === VmCreationSecurityGroupMode.Builder"
    [inputRules]="savedData.rules"
    (onChange)="onBuilderGroupChange($event)"
  ></cs-security-group-builder>

  <cs-security-group-selector
    *ngIf="displayMode === VmCreationSecurityGroupMode.Selector && sharedGroups"
    [securityGroups]="sharedGroups"
    [ngModel]="savedData.securityGroups"
    (ngModelChange)="onSecurityGroupChange($event)"
  ></cs-security-group-selector>
</div>
<div class="mat-dialog-actions">
  <button mat-button (click)="onCancel()">
    {{ 'COMMON.CANCEL' | translate }}
  </button>
  <button
    mat-button
    [disabled]="!savedData.rules?.templates.length && !savedData.securityGroups?.length"
    (click)="onSave()"
  >
    {{ 'COMMON.SAVE' | translate }}
  </button>
</div>
